<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Dashboard | Market & Location Analytics</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
   body {
     font-family: 'Poppins', sans-serif;
     margin: 0;
     padding: 30px;
     background: linear-gradient(135deg, #141e30, #243b55);
     color: #ffffff;
   }
   h1 {
     text-align: center;
     color: #60efff;
     margin-bottom: 10px;
   }
   .info {
     text-align: center;
     font-size: 1rem;
     color: #cdd;
     margin-bottom: 30px;
   }
   .cards {
     display: flex;
     justify-content: center;
     flex-wrap: wrap;
     gap: 20px;
     margin-bottom: 40px;
   }
   .card {
     background: rgba(255, 255, 255, 0.1);
     padding: 20px;
     border-radius: 15px;
     box-shadow: 0 0 15px rgba(96, 239, 255, 0.2);
     width: 200px;
     text-align: center;
     color: #ffffff;
   }
   .card h3 {
     color: #f9f2f2;
     font-size: 1.2rem;
     margin-bottom: 10px;
   }
   .card p {
     font-size: 1.5rem;
     font-weight: bold;
   }
   .charts {
     display: flex;
     justify-content: center;
     flex-wrap: wrap;
     gap: 30px;
   }
   canvas {
     background: rgba(255, 255, 255, 0.05);
     padding: 10px;
     border-radius: 10px;
     max-width: 300px;
     height: 250px !important;
   }
   .side-back-btn {
     position: absolute;
     top: 20px;
     left: 20px;
     padding: 10px 20px;
     background: #141e30;
     color: white;
     font-weight: bold;
     text-decoration: none;
     border-radius: 8px;
     box-shadow: 2px 5px 15px rgba(0,0,0,0.3);
     transition: background 0.3s ease-in-out;
     z-index: 10;
   }
   .side-back-btn:hover {
     background: #243b55;
     text-decoration: none;
   }
   .logout-btn {
     position: fixed;
     bottom: 20px;
     right: 20px;
     padding: 10px 20px;
     background: crimson;
     color: white;
     border: none;
     border-radius: 8px;
     cursor: pointer;
   }
</style>
</head>
<body>

<script>
  // Admin access protection
  if (localStorage.getItem("isAdmin") !== "true") {
    alert("You must be an admin to access this page.");
    window.location.href = "admin-login.html";
  }
</script>

<a href="homepage.html" class="side-back-btn">‚Üê Home</a>
<h1>System Dashboard</h1>
<div class="info">Statistics Overview for the Year 2025</div>
<div class="cards">
  <div class="card">
    <h3>Total Visitors</h3>
    <p>75</p>
  </div>
  <div class="card">
    <h3>Registered Users</h3>
    <p>30</p>
  </div>
  <div class="card">
    <h3>Reports Generated</h3>
    <p>50</p>
  </div>
  <div class="card">
    <h3>Feedback Submitted</h3>
    <p>60</p>
  </div>
  <div class="card">
    <h3>Most Searched</h3>
    <p>Muscat / Resturant</p>
  </div>
</div>
<div class="charts">
  <canvas id="barChart"></canvas>
  <canvas id="pieChart"></canvas>
</div>

<!-- Logout Button -->
<button class="logout-btn" onclick="logout()">Logout</button>

<script>
  function logout() {
    localStorage.removeItem("isAdmin");
    window.location.href = "Admin_Login.html";
  }

  const barCtx = document.getElementById('barChart').getContext('2d');
  new Chart(barCtx, {
    type: 'bar',
    data: {
      labels: ['Visitors', 'Users', 'Reports', 'Feedback'],
      datasets: [{
        label: 'System Stats',
        data: [75, 30, 50, 60],
        backgroundColor: ['#60efff', '#3ecde3', '#ffc107', '#e91e63']
      }]
    },
    options: {
      responsive: true,
      plugins: {
        legend: { display: false }
      },
      scales: {
        y: {
          ticks: { color: '#fff' },
          grid: { color: 'rgba(255,255,255,0.1)' }
        },
        x: {
          ticks: { color: '#fff' },
          grid: { color: 'rgba(255,255,255,0.1)' }
        }
      }
    }
  });

  const pieCtx = document.getElementById('pieChart').getContext('2d');
  new Chart(pieCtx, {
    type: 'pie',
    data: {
      labels: ['Visitors', 'Users', 'Reports', 'Feedback'],
      datasets: [{
        data: [75, 30, 50, 60],
        backgroundColor: ['#60efff', '#3ecde3', '#ffc107', '#e91e63']
      }]
    },
    options: {
      responsive: true,
      plugins: {
        legend: {
          labels: { color: '#ffffff' }
        }
      }
    }
  });
</script>
</body>
</html>
